{"ast":null,"code":"import axios from \"axios\";\nimport { LOAD_PERSON } from \"./types\";\n\nfunction getPersonFromAPI(id) {\n  return async function (dispatch) {\n    const res = await axios.get(`https://swapi.dev/api/people/${id}/`);\n    let {\n      name,\n      gender,\n      birth_year: birthYear,\n      homeworld,\n      films\n    } = res.data;\n    films = films.map(url => url.match(/\\d+/)[0]);\n    homeworld = homeworld.match(/\\d+/)[0];\n    const person = {\n      id,\n      name,\n      gender,\n      birthYear,\n      homeworld,\n      films\n    };\n    dispatch(gotPerson(person));\n  };\n}\n\nfunction gotPerson(person) {\n  return {\n    type: LOAD_PERSON,\n    payload: person\n  };\n}\n\nexport { getPersonFromAPI };","map":{"version":3,"names":["axios","LOAD_PERSON","getPersonFromAPI","id","dispatch","res","get","name","gender","birth_year","birthYear","homeworld","films","data","map","url","match","person","gotPerson","type","payload"],"sources":["/Users/jackbourne/Documents/Springboard/react-3/starwarsly/src/actions/people.js"],"sourcesContent":["import axios from \"axios\";\nimport { LOAD_PERSON } from \"./types\";\n\n\nfunction getPersonFromAPI(id) {\n  return async function (dispatch) {\n    const res = await axios.get(`https://swapi.dev/api/people/${id}/`);\n    let {\n      name,\n      gender,\n      birth_year: birthYear,\n      homeworld,\n      films\n    } = res.data;\n\n    films = films.map(url => url.match(/\\d+/)[0]);\n    homeworld = homeworld.match(/\\d+/)[0];\n\n    const person = { id, name, gender, birthYear, homeworld, films };\n    dispatch(gotPerson(person));\n  };\n}\n\n\nfunction gotPerson(person) {\n  return { type: LOAD_PERSON, payload: person };\n}\n\n\nexport { getPersonFromAPI }"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,WAAT,QAA4B,SAA5B;;AAGA,SAASC,gBAAT,CAA0BC,EAA1B,EAA8B;EAC5B,OAAO,gBAAgBC,QAAhB,EAA0B;IAC/B,MAAMC,GAAG,GAAG,MAAML,KAAK,CAACM,GAAN,CAAW,gCAA+BH,EAAG,GAA7C,CAAlB;IACA,IAAI;MACFI,IADE;MAEFC,MAFE;MAGFC,UAAU,EAAEC,SAHV;MAIFC,SAJE;MAKFC;IALE,IAMAP,GAAG,CAACQ,IANR;IAQAD,KAAK,GAAGA,KAAK,CAACE,GAAN,CAAUC,GAAG,IAAIA,GAAG,CAACC,KAAJ,CAAU,KAAV,EAAiB,CAAjB,CAAjB,CAAR;IACAL,SAAS,GAAGA,SAAS,CAACK,KAAV,CAAgB,KAAhB,EAAuB,CAAvB,CAAZ;IAEA,MAAMC,MAAM,GAAG;MAAEd,EAAF;MAAMI,IAAN;MAAYC,MAAZ;MAAoBE,SAApB;MAA+BC,SAA/B;MAA0CC;IAA1C,CAAf;IACAR,QAAQ,CAACc,SAAS,CAACD,MAAD,CAAV,CAAR;EACD,CAfD;AAgBD;;AAGD,SAASC,SAAT,CAAmBD,MAAnB,EAA2B;EACzB,OAAO;IAAEE,IAAI,EAAElB,WAAR;IAAqBmB,OAAO,EAAEH;EAA9B,CAAP;AACD;;AAGD,SAASf,gBAAT"},"metadata":{},"sourceType":"module"}