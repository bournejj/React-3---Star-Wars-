{"ast":null,"code":"import axios from 'axios';\nimport { LOAD_FILM } from \"./types\";\n\nfunction getFilmFromAPI(id) {\n  return async function (dispatch) {\n    const res = await axios.get(`https://swapi.dev/api/films/${id}/`);\n    let {\n      title: name,\n      director,\n      opening_crawl: openingCrawl,\n      characters,\n      planets\n    } = res.data;\n    characters = characters.map(url => url.match(/\\d+/)[0]);\n    planets = planets.map(url => url.match(/\\d+/)[0]);\n    const film = {\n      id,\n      name,\n      director,\n      openingCrawl,\n      characters,\n      planets\n    };\n    dispatch(gotFilm(film));\n  };\n}\n\nfunction gotFilm(film) {\n  return {\n    type: LOAD_FILM,\n    payload: film\n  };\n}\n\nexport { getFilmFromAPI };","map":{"version":3,"names":["axios","LOAD_FILM","getFilmFromAPI","id","dispatch","res","get","title","name","director","opening_crawl","openingCrawl","characters","planets","data","map","url","match","film","gotFilm","type","payload"],"sources":["/Users/jackbourne/Documents/Springboard/react-3/starwarsly/src/actions/films.js"],"sourcesContent":["import axios from 'axios';\nimport { LOAD_FILM } from \"./types\";\n\n\nfunction getFilmFromAPI(id) {\n  return async function (dispatch) {\n    const res = await axios.get(`https://swapi.dev/api/films/${id}/`);\n    let {\n      title: name,\n      director,\n      opening_crawl: openingCrawl,\n      characters,\n      planets\n    } = res.data;\n\n    characters = characters.map(url => url.match(/\\d+/)[0]);\n    planets = planets.map(url => url.match(/\\d+/)[0]);\n\n    const film = { id, name, director, openingCrawl, characters, planets };\n    dispatch(gotFilm(film));\n  };\n}\n\n\nfunction gotFilm(film) {\n  return { type: LOAD_FILM, payload: film };\n}\n\n\nexport { getFilmFromAPI }"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,SAAT,QAA0B,SAA1B;;AAGA,SAASC,cAAT,CAAwBC,EAAxB,EAA4B;EAC1B,OAAO,gBAAgBC,QAAhB,EAA0B;IAC/B,MAAMC,GAAG,GAAG,MAAML,KAAK,CAACM,GAAN,CAAW,+BAA8BH,EAAG,GAA5C,CAAlB;IACA,IAAI;MACFI,KAAK,EAAEC,IADL;MAEFC,QAFE;MAGFC,aAAa,EAAEC,YAHb;MAIFC,UAJE;MAKFC;IALE,IAMAR,GAAG,CAACS,IANR;IAQAF,UAAU,GAAGA,UAAU,CAACG,GAAX,CAAeC,GAAG,IAAIA,GAAG,CAACC,KAAJ,CAAU,KAAV,EAAiB,CAAjB,CAAtB,CAAb;IACAJ,OAAO,GAAGA,OAAO,CAACE,GAAR,CAAYC,GAAG,IAAIA,GAAG,CAACC,KAAJ,CAAU,KAAV,EAAiB,CAAjB,CAAnB,CAAV;IAEA,MAAMC,IAAI,GAAG;MAAEf,EAAF;MAAMK,IAAN;MAAYC,QAAZ;MAAsBE,YAAtB;MAAoCC,UAApC;MAAgDC;IAAhD,CAAb;IACAT,QAAQ,CAACe,OAAO,CAACD,IAAD,CAAR,CAAR;EACD,CAfD;AAgBD;;AAGD,SAASC,OAAT,CAAiBD,IAAjB,EAAuB;EACrB,OAAO;IAAEE,IAAI,EAAEnB,SAAR;IAAmBoB,OAAO,EAAEH;EAA5B,CAAP;AACD;;AAGD,SAAShB,cAAT"},"metadata":{},"sourceType":"module"}